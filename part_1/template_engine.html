<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mini Angular Template (Class Version)</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
  </style>
</head>
<body>

  <div id="app">
    <h1>Hello {{ name }}!</h1>
    <p>Today is {{ new Date().toDateString() }}</p>
    <p>Your score: {{ score + 10 }}</p>
  </div>

  <script>
    class TemplateEngine {
      constructor(scope = {}) {
        this.scope = scope;
      }

      render(template) {
        return template.replace(/{{\s*(.*?)\s*}}/g, (match, expr) => {
          try {
            const func = new Function(...Object.keys(this.scope), `return ${expr}`);
            return func(...Object.values(this.scope));
          } catch (e) {
            return '';
          }
        });
      }

      renderToElement(element) {
        const template = element.innerHTML;
        element.innerHTML = this.render(template);
      }
    }

    // Data
    const scope = {
      name: 'Eko Heri',
      score: 90
    };

    // Jalankan
    const app = document.getElementById('app');
    const engine = new TemplateEngine(scope);
    engine.renderToElement(app);
  </script>

</body>
</html>
